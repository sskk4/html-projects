<!DOCTYPE HTML>
<html lang="pl">
<head>
	<meta charset="utf-8" />
	<title>SONIC</title>
	<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
	<meta name="description" content="PIXELART" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	
	<!-- Ruffle Flash Emulator -->
	<script src="https://unpkg.com/@ruffle-rs/ruffle"></script>
	
	<style>
	* {
		box-sizing: border-box;
	}
	
	body {
		margin: 0;
		padding: 0;
		font-family: Arial, sans-serif;
	}
	
	#container {
		max-width: 1000px;
		margin: 0 auto;
		padding: 0 10px;
	}
	
	#logo {
		background-color: red;
		color: white;
		padding: 15px;
	}
	
	#logo img {
		max-width: 100%;
		height: auto;
	}
	
	#co2 {
		text-align: center;
		padding: 10px 0;
	}
	
	#co2 img {
		max-width: 100%;
		height: auto;
	}

	.przyklad {
		overflow: hidden;
		padding: 15px;
		background-color: red;
		display: flex;
		justify-content: space-between;
		align-items: center;
	}
	
	.przyklad img {
		transition-duration: 0.3s;
		max-width: 30%;
		height: auto;
	}
	
	.przyklad img:hover {
		transform: scale(1.2);
	}
	
	#hehe2 {
		background-color: red;
		padding: 15px;
		min-height: 300px;
	}
	
	#hehe4 {
		background-color: red;
		padding: 15px;
		text-align: center;
	}
	
	#hehe5 {
		min-height: 30px;
		text-align: center;
		padding: 10px;
	}
	
	/* Stylowanie dla Ruffle */
	#game-container {
		width: 100%;
		max-width: 490px;
		height: 350px;
		margin: 0 auto 20px;
		position: relative;
		background-color: #000;
	}
	
	ruffle-player {
		width: 100%;
		height: 100%;
		display: block;
	}
	
	/* Wirtualny kontroler dla telefonu */
	#mobile-controls {
		display: none;
		max-width: 490px;
		margin: 0 auto 20px;
		padding: 20px;
		background-color: #333;
		border-radius: 10px;
	}
	
	.control-pad {
		display: grid;
		grid-template-columns: repeat(3, 1fr);
		gap: 10px;
		margin-bottom: 20px;
	}
	
	.control-btn {
		background-color: #555;
		color: white;
		border: 2px solid #777;
		border-radius: 8px;
		padding: 20px;
		font-size: 18px;
		font-weight: bold;
		touch-action: none;
		user-select: none;
		-webkit-user-select: none;
		cursor: pointer;
		transition: all 0.1s;
	}
	
	.control-btn:active {
		background-color: #00ff00;
		transform: scale(0.95);
	}
	
	.control-btn.pressed {
		background-color: #00ff00;
		transform: scale(0.95);
	}
	
	.action-buttons {
		display: flex;
		justify-content: center;
		gap: 20px;
	}
	
	.action-btn {
		background-color: #c00;
		color: white;
		border: 2px solid #f00;
		border-radius: 50%;
		width: 80px;
		height: 80px;
		font-size: 16px;
		font-weight: bold;
		touch-action: none;
		user-select: none;
		-webkit-user-select: none;
		cursor: pointer;
		transition: all 0.1s;
	}
	
	.action-btn:active {
		background-color: #ff0;
		transform: scale(0.95);
	}
	
	.action-btn.pressed {
		background-color: #ff0;
		transform: scale(0.95);
	}
	
	.controls-info {
		background-color: #ffcccc;
		padding: 10px;
		margin: 10px 0;
		border-radius: 5px;
		text-align: center;
	}
	
	/* Responsive */
	@media (max-width: 768px) {
		#mobile-controls {
			display: block;
		}
		
		#game-container {
			height: 280px;
		}
	}
	</style>

</head>

<body>
	<div id="container">
	
		<div id="logo">
			<a href="roksa.html"><img src="logo.png" alt="Logo" /></a> 
		</div>
		
		<div id="co2">
			<img src="lol.gif" width="442" height="232" alt="Animation" />
		</div>
		
		<br />
	
		<div class="przyklad">
			<a href="top.html"><img src="logo2.png" alt="Top" /></a>
			<img src="logo4.png" alt="Menu" />
			<img src="logo3.png" alt="Info" />
		</div>
		
		<div class="controls-info">
			<strong>Sterowanie:</strong><br>
			üñ•Ô∏è PC: Strza≈Çki + Spacja/Enter<br>
			üì± Telefon: U≈ºyj przycisk√≥w poni≈ºej gry
		</div>
		
		<div id="hehe2">
			<div id="game-container">
				<embed src="gry/373.swf" width="490" height="350" />
			</div>
			
			<!-- Wirtualny kontroler dla telefonu -->
			<div id="mobile-controls">
				<div class="control-pad">
					<div></div>
					<button class="control-btn" data-key="ArrowUp">‚Üë</button>
					<div></div>
					<button class="control-btn" data-key="ArrowLeft">‚Üê</button>
					<button class="control-btn" data-key="ArrowDown">‚Üì</button>
					<button class="control-btn" data-key="ArrowRight">‚Üí</button>
				</div>
				
				<div class="action-buttons">
					<button class="action-btn" data-key=" ">SKOK<br>(Spacja)</button>
					<button class="action-btn" data-key="Enter">START<br>(Enter)</button>
				</div>
			</div>
		</div>
		
		<br /><br /> 
		
		<div id="hehe4">
			<p><font face="Arial" color="white"><b>COPYRIGHT MLODY G</b></font></p>
		</div>
		
		<div id="hehe5">
			<font color="white">dzien dobry</font>
		</div>

	</div>

	<script>
		// Poczekaj a≈º Ruffle automatycznie za≈Çaduje embed
		window.addEventListener("load", () => {
			// Daj Ruffle chwilƒô na inicjalizacjƒô
			setTimeout(() => {
				const player = document.querySelector("ruffle-player") || document.querySelector("embed");
				if (player) {
					player.style.outline = "none";
					if (player.focus) player.focus();
				}
			}, 500);
		});
		
		// Funkcja do symulacji naci≈õniƒôcia klawisza
		function simulateKeyPress(key, eventType) {
			const player = document.querySelector("ruffle-player") || document.querySelector("embed");
			if (!player) return;
			
			const event = new KeyboardEvent(eventType, {
				key: key,
				code: key === " " ? "Space" : key === "Enter" ? "Enter" : key.replace("Arrow", ""),
				keyCode: getKeyCode(key),
				which: getKeyCode(key),
				bubbles: true,
				cancelable: true
			});
			
			player.dispatchEvent(event);
		}
		
		function getKeyCode(key) {
			const keyCodes = {
				"ArrowUp": 38,
				"ArrowDown": 40,
				"ArrowLeft": 37,
				"ArrowRight": 39,
				" ": 32,
				"Enter": 13
			};
			return keyCodes[key] || 0;
		}
		
		// Obs≈Çuga wirtualnych przycisk√≥w
		const buttons = document.querySelectorAll(".control-btn, .action-btn");
		
		buttons.forEach(button => {
			// Obs≈Çuga dotyku (touchstart/touchend)
			button.addEventListener("touchstart", (e) => {
				e.preventDefault();
				const key = button.getAttribute("data-key");
				button.classList.add("pressed");
				simulateKeyPress(key, "keydown");
			});
			
			button.addEventListener("touchend", (e) => {
				e.preventDefault();
				const key = button.getAttribute("data-key");
				button.classList.remove("pressed");
				simulateKeyPress(key, "keyup");
			});
			
			// Obs≈Çuga myszy (dla testowania na PC)
			button.addEventListener("mousedown", (e) => {
				e.preventDefault();
				const key = button.getAttribute("data-key");
				button.classList.add("pressed");
				simulateKeyPress(key, "keydown");
			});
			
			button.addEventListener("mouseup", (e) => {
				e.preventDefault();
				const key = button.getAttribute("data-key");
				button.classList.remove("pressed");
				simulateKeyPress(key, "keyup");
			});
			
			// Zapobiegaj domy≈õlnym akcjom
			button.addEventListener("touchmove", (e) => {
				e.preventDefault();
			});
		});
		
		// Automatyczne ustawienie fokusa na grze po klikniƒôciu
		document.addEventListener("DOMContentLoaded", () => {
			const gameContainer = document.getElementById("game-container");
			gameContainer.addEventListener("click", () => {
				const player = document.querySelector("ruffle-player") || document.querySelector("embed");
				if (player && player.focus) player.focus();
			});
		});
	</script>

</body>
</html>