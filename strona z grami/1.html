<!DOCTYPE HTML>
<html lang="pl">
<head>
	<meta charset="utf-8" />
	<title>SONIC</title>
	<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
	<meta name="description" content="PIXELART" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	
	<!-- Ruffle Flash Emulator -->
	<script src="https://unpkg.com/@ruffle-rs/ruffle"></script>
	
	<style>
	body {
		margin: 0;
		padding: 0;
	}
	
	#container {
		width: 1000px;
		margin-left: auto;
		margin-right: auto;
	}
	
	#logo {
		width: 1000px;
		text-align: left;
		background-color: red;
		color: white;
		padding: 15px;
	}
	
	#co {
		float: up;
		text-align: center;
	}
	
	#co2 {
		float: up;
		text-align: center;
	}

	#hehe {
		padding: 15px;
		background-color: red;
		float: up;
		width: 1000px;
	}

	.przyklad {
		overflow: hidden;
		padding: 15px;
		width: 1000px;
		height: 20px;
		background-color: red;
	}
	
	.przyklad img {
		transition-duration: 3s;
		margin: 0 auto;
		display: block;
	}
	
	.przyklad img:hover {
		transform: scale(1.2);
		-webkit-transform: scale(1.2);
		-moz-transform: scale(1.2);
		z-index: 0;
	}
	
	#hehe2 {
		float: up;
		background-color: red;
		padding: 15px;
		width: 1000px;
		min-height: 300px;
	}
	
	#hehe3 {
		both: clear;
		float: up;
		width: 1000px;
		min-height: 30px;
	}
	
	#hehe4 {
		float: left;
		width: 1000px;
		background-color: red;
		padding: 15px;
	}
	
	#hehe5 {
		both: clear;
		float: up;
		width: 1000px;
		min-height: 30px;
	}
	
	/* Wirtualny kontroler na dole strony */
	#mobile-controls {
		width: 1000px;
		margin: 20px auto;
		padding: 20px;
		background-color: #333;
		border-radius: 10px;
	}
	
	.controls-title {
		color: white;
		text-align: center;
		font-size: 18px;
		font-weight: bold;
		margin-bottom: 15px;
	}
	
	.control-layout {
		display: flex;
		justify-content: space-around;
		align-items: center;
	}
	
	.control-pad {
		display: grid;
		grid-template-columns: repeat(3, 70px);
		grid-template-rows: repeat(3, 70px);
		gap: 5px;
	}
	
	.control-btn {
		background-color: #555;
		color: white;
		border: 2px solid #777;
		border-radius: 8px;
		font-size: 24px;
		font-weight: bold;
		touch-action: none;
		user-select: none;
		-webkit-user-select: none;
		cursor: pointer;
		transition: all 0.1s;
		display: flex;
		align-items: center;
		justify-content: center;
	}
	
	.control-btn:active {
		background-color: #00ff00;
		transform: scale(0.95);
	}
	
	.control-btn.pressed {
		background-color: #00ff00;
		transform: scale(0.95);
	}
	
	.action-buttons {
		display: flex;
		gap: 20px;
	}
	
	.action-btn {
		background-color: #c00;
		color: white;
		border: 2px solid #f00;
		border-radius: 50%;
		width: 90px;
		height: 90px;
		font-size: 14px;
		font-weight: bold;
		touch-action: none;
		user-select: none;
		-webkit-user-select: none;
		cursor: pointer;
		transition: all 0.1s;
		display: flex;
		align-items: center;
		justify-content: center;
		text-align: center;
		line-height: 1.2;
	}
	
	.action-btn:active {
		background-color: #ff0;
		transform: scale(0.95);
	}
	
	.action-btn.pressed {
		background-color: #ff0;
		transform: scale(0.95);
	}
	</style>

</head>

<body>
	<div id="container">
	
		<div id="logo">
			<a href="roksa.html"><img src="logo.png" alt="Logo" /></a> 
		</div>
		
		<div id="co2">
			<center><img src="lol.gif" width="442" height="232" alt="Animation" /></center>
		</div>
		
		<div id="co">
			<center></center>
		</div>
		
		<br /><br /><br />
	
		<div class="przyklad">
			<a href="top.html"><img src="logo2.png" alt="Top" width="189" height="20" class="alignleft size-medium wp-image-7000" align="left" /></a>
			<img src="logo4.png" alt="Menu" width="134" height="20" class="aligncleft size-medium wp-image-7000" align="right" />
			<img src="logo3.png" alt="Info" width="141" height="20" class="alignleft size-medium wp-image-7000" />
		</div>
  	   
		<div id="hehe3">
			<a href="inne.html"><center></center></a>
		</div>
		
		<div id="hehe2">
			<center>
				<embed src="gry/373.swf" width="490" height="350" />
			</center>
		</div>
		
		<br /><br /> 
		
		<div id="hehe4">
			<center><p><font face="Arial" color="white"><b>COPYRIGHT MLODY G</b></font></p></center>
		</div>
		
		<div id="hehe5">
			<center><font color="white">dzien dobry</font></center> 
		</div>
		
		<!-- Wirtualny kontroler na dole strony -->
		<div id="mobile-controls">
			<div class="controls-title">üéÆ STEROWANIE MOBILNE üéÆ</div>
			<div class="control-layout">
				<!-- Pad kierunkowy -->
				<div class="control-pad">
					<div></div>
					<button class="control-btn" data-key="ArrowUp">‚Üë</button>
					<div></div>
					<button class="control-btn" data-key="ArrowLeft">‚Üê</button>
					<div></div>
					<button class="control-btn" data-key="ArrowRight">‚Üí</button>
					<div></div>
					<button class="control-btn" data-key="ArrowDown">‚Üì</button>
					<div></div>
				</div>
				
				<!-- Przyciski akcji -->
				<div class="action-buttons">
					<button class="action-btn" data-key=" ">SKOK<br>(Spacja)</button>
					<button class="action-btn" data-key="Enter">START<br>(Enter)</button>
				</div>
			</div>
		</div>

	</div>

	<script>
		// Poczekaj a≈º Ruffle automatycznie za≈Çaduje embed
		let rufflePlayer = null;
		
		window.addEventListener("load", () => {
			// Daj Ruffle chwilƒô na inicjalizacjƒô
			setTimeout(() => {
				rufflePlayer = document.querySelector("ruffle-player") || document.querySelector("embed");
				if (rufflePlayer) {
					rufflePlayer.style.outline = "none";
					if (rufflePlayer.focus) rufflePlayer.focus();
				}
			}, 500);
		});
		
		// Funkcja do symulacji naci≈õniƒôcia klawisza
		function simulateKeyPress(key, eventType) {
			// Wy≈õlij do ruffle-player
			const player = document.querySelector("ruffle-player") || document.querySelector("embed");
			if (player) {
				const event = new KeyboardEvent(eventType, {
					key: key,
					code: key === " " ? "Space" : key === "Enter" ? "Enter" : key.replace("Arrow", ""),
					keyCode: getKeyCode(key),
					which: getKeyCode(key),
					charCode: getKeyCode(key),
					bubbles: true,
					cancelable: true,
					view: window
				});
				
				player.dispatchEvent(event);
			}
			
			// Wy≈õlij te≈º do document i window
			const docEvent = new KeyboardEvent(eventType, {
				key: key,
				code: key === " " ? "Space" : key === "Enter" ? "Enter" : key.replace("Arrow", ""),
				keyCode: getKeyCode(key),
				which: getKeyCode(key),
				charCode: getKeyCode(key),
				bubbles: true,
				cancelable: true,
				view: window
			});
			
			document.dispatchEvent(docEvent);
			window.dispatchEvent(docEvent);
		}
		
		function getKeyCode(key) {
			const keyCodes = {
				"ArrowUp": 38,
				"ArrowDown": 40,
				"ArrowLeft": 37,
				"ArrowRight": 39,
				" ": 32,
				"Enter": 13
			};
			return keyCodes[key] || 0;
		}
		
		// ZarzƒÖdzanie aktywnymi klawiszami
		let activeKeys = new Set();
		
		function pressKey(key) {
			if (activeKeys.has(key)) return;
			activeKeys.add(key);
			
			simulateKeyPress(key, "keydown");
			
			// Upewnij siƒô ≈ºe gracz ma fokus
			const player = document.querySelector("ruffle-player") || document.querySelector("embed");
			if (player && player.focus) {
				player.focus();
			}
		}
		
		function releaseKey(key) {
			activeKeys.delete(key);
			simulateKeyPress(key, "keyup");
		}
		
		// Obs≈Çuga wirtualnych przycisk√≥w
		const buttons = document.querySelectorAll(".control-btn, .action-btn");
		
		buttons.forEach(button => {
			// Obs≈Çuga dotyku
			button.addEventListener("touchstart", (e) => {
				e.preventDefault();
				e.stopPropagation();
				const key = button.getAttribute("data-key");
				button.classList.add("pressed");
				pressKey(key);
			});
			
			button.addEventListener("touchend", (e) => {
				e.preventDefault();
				e.stopPropagation();
				const key = button.getAttribute("data-key");
				button.classList.remove("pressed");
				releaseKey(key);
			});
			
			button.addEventListener("touchcancel", (e) => {
				e.preventDefault();
				const key = button.getAttribute("data-key");
				button.classList.remove("pressed");
				releaseKey(key);
			});
			
			// Obs≈Çuga myszy
			button.addEventListener("mousedown", (e) => {
				e.preventDefault();
				e.stopPropagation();
				const key = button.getAttribute("data-key");
				button.classList.add("pressed");
				pressKey(key);
			});
			
			button.addEventListener("mouseup", (e) => {
				e.preventDefault();
				e.stopPropagation();
				const key = button.getAttribute("data-key");
				button.classList.remove("pressed");
				releaseKey(key);
			});
			
			button.addEventListener("mouseleave", (e) => {
				const key = button.getAttribute("data-key");
				button.classList.remove("pressed");
				releaseKey(key);
			});
			
			// Zapobiegaj domy≈õlnym akcjom
			button.addEventListener("touchmove", (e) => {
				e.preventDefault();
			});
			
			button.addEventListener("contextmenu", (e) => {
				e.preventDefault();
			});
		});
		
		// Automatyczne ustawienie fokusa na grze po klikniƒôciu
		document.addEventListener("DOMContentLoaded", () => {
			const embed = document.querySelector("embed");
			if (embed) {
				embed.addEventListener("click", () => {
					const player = document.querySelector("ruffle-player") || document.querySelector("embed");
					if (player && player.focus) player.focus();
				});
			}
		});
	</script>

</body>
</html>