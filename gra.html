<!DOCTYPE html>
<html>
<head>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            overflow: hidden;
            background: #1a1a2e;
            font-family: Arial, sans-serif;
        }

        #play_button {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 200px;
            height: 80px;
            font-size: 32px;
            background-color: seagreen;
            color: white;
            border: 3px solid black;
            border-radius: 10px;
            cursor: pointer;
            z-index: 300;
            transition: all 0.3s;
        }

        #play_button:hover {
            background-color: lightseagreen;
            transform: translate(-50%, -50%) scale(1.1);
        }

        #game_container {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 600px;
            height: 600px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: 4px solid #fff;
            border-radius: 20px;
            box-shadow: 0 0 30px rgba(0,0,0,0.5);
            overflow: hidden;
            cursor: crosshair;
        }

        #character {
            position: absolute;
            width: 40px;
            height: 40px;
            background: radial-gradient(circle at 30% 30%, #90EE90, darkseagreen);
            border: 3px solid seagreen;
            border-radius: 50%;
            z-index: 100;
            transition: transform 0.1s;
            box-shadow: 0 0 15px rgba(0,255,0,0.5);
        }

        .enemy {
            position: absolute;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            border: 2px solid rgba(0,0,0,0.3);
            z-index: 50;
            transition: all 0.2s;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
        }

        .explosion {
            position: absolute;
            border: 3px solid #ff6b6b;
            background: radial-gradient(circle, rgba(255,107,107,0.3), transparent);
            border-radius: 50%;
            z-index: 150;
            pointer-events: none;
            animation: explode 0.5s ease-out forwards;
        }

        @keyframes explode {
            0% {
                transform: scale(0);
                opacity: 1;
            }
            100% {
                transform: scale(1);
                opacity: 0;
            }
        }

        #score {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            font-size: 24px;
            font-weight: bold;
            z-index: 200;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        #game_over {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.9);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            color: white;
            z-index: 300;
            display: none;
        }

        #game_over h1 {
            font-size: 48px;
            margin-bottom: 20px;
            color: #ff6b6b;
        }

        #restart_button {
            margin-top: 20px;
            padding: 15px 40px;
            font-size: 20px;
            background-color: seagreen;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        #restart_button:hover {
            background-color: lightseagreen;
            transform: scale(1.1);
        }
    </style>
</head>
<body>
    <button id="play_button" onclick="startGame()">PLAY</button>
    <div id="score" style="display:none;">Punkty: <span id="score_value">0</span></div>
    <div id="game_container" style="display:none;"></div>
    
    <div id="game_over">
        <h1>GAME OVER</h1>
        <p style="font-size: 24px;">Tw√≥j wynik: <span id="final_score">0</span></p>
        <button id="restart_button" onclick="startGame()">ZAGRAJ PONOWNIE</button>
    </div>

    <script>
        const container = document.getElementById('game_container');
        const scoreDisplay = document.getElementById('score_value');
        let character, enemies = [], gameLoop, enemySpawnInterval;
        let characterX = 280, characterY = 280;
        let score = 0;
        let gameRunning = false;

        function startGame() {
            document.getElementById('play_button').style.display = 'none';
            document.getElementById('game_over').style.display = 'none';
            document.getElementById('game_container').style.display = 'block';
            document.getElementById('score').style.display = 'block';
            
            container.innerHTML = '';
            enemies = [];
            score = 0;
            scoreDisplay.textContent = score;
            characterX = 280;
            characterY = 280;
            gameRunning = true;

            character = document.createElement('div');
            character.id = 'character';
            character.style.left = characterX + 'px';
            character.style.top = characterY + 'px';
            container.appendChild(character);

            container.addEventListener('mousemove', handleMouseMove);
            container.addEventListener('click', handleClick);

            enemySpawnInterval = setInterval(spawnEnemy, 1500);
            gameLoop = setInterval(updateGame, 1000/60);
        }

        function handleMouseMove(e) {
            if (!gameRunning) return;
            const rect = container.getBoundingClientRect();
            const targetX = e.clientX - rect.left - 20;
            const targetY = e.clientY - rect.top - 20;

            characterX += (targetX - characterX) * 0.15;
            characterY += (targetY - characterY) * 0.15;

            characterX = Math.max(0, Math.min(560, characterX));
            characterY = Math.max(0, Math.min(560, characterY));

            character.style.left = characterX + 'px';
            character.style.top = characterY + 'px';
        }

        function handleClick(e) {
            if (!gameRunning) return;
            const rect = container.getBoundingClientRect();
            const clickX = e.clientX - rect.left;
            const clickY = e.clientY - rect.top;

            const explosion = document.createElement('div');
            explosion.className = 'explosion';
            explosion.style.width = '200px';
            explosion.style.height = '200px';
            explosion.style.left = (clickX - 100) + 'px';
            explosion.style.top = (clickY - 100) + 'px';
            container.appendChild(explosion);

            setTimeout(() => explosion.remove(), 500);

            enemies = enemies.filter(enemy => {
                const ex = parseFloat(enemy.element.style.left) + 17.5;
                const ey = parseFloat(enemy.element.style.top) + 17.5;
                const dist = Math.sqrt((ex - clickX)**2 + (ey - clickY)**2);
                
                if (dist < 100) {
                    enemy.element.style.transform = 'scale(0)';
                    setTimeout(() => enemy.element.remove(), 200);
                    score += 10;
                    scoreDisplay.textContent = score;
                    return false;
                }
                return true;
            });
        }

        function spawnEnemy() {
            if (!gameRunning) return;
            
            const enemy = document.createElement('div');
            enemy.className = 'enemy';
            
            const side = Math.floor(Math.random() * 4);
            let x, y;
            
            switch(side) {
                case 0: x = Math.random() * 560; y = -35; break;
                case 1: x = Math.random() * 560; y = 600; break;
                case 2: x = -35; y = Math.random() * 560; break;
                case 3: x = 600; y = Math.random() * 560; break;
            }
            
            enemy.style.left = x + 'px';
            enemy.style.top = y + 'px';
            
            const colors = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#FFA07A', '#98D8C8', '#F7DC6F'];
            enemy.style.background = `radial-gradient(circle at 30% 30%, ${colors[Math.floor(Math.random() * colors.length)]}, ${colors[Math.floor(Math.random() * colors.length)]})`;
            
            container.appendChild(enemy);
            enemies.push({ element: enemy, x, y });
        }

        function updateGame() {
            if (!gameRunning) return;

            enemies.forEach(enemy => {
                const dx = (characterX + 20) - (enemy.x + 17.5);
                const dy = (characterY + 20) - (enemy.y + 17.5);
                const dist = Math.sqrt(dx*dx + dy*dy);
                
                if (dist > 0) {
                    const speed = 2;
                    enemy.x += (dx / dist) * speed;
                    enemy.y += (dy / dist) * speed;
                    enemy.element.style.left = enemy.x + 'px';
                    enemy.element.style.top = enemy.y + 'px';
                }

                const collisionDist = Math.sqrt(
                    ((characterX + 20) - (enemy.x + 17.5))**2 + 
                    ((characterY + 20) - (enemy.y + 17.5))**2
                );
                
                if (collisionDist < 30) {
                    endGame();
                }
            });
        }

        function endGame() {
            gameRunning = false;
            clearInterval(gameLoop);
            clearInterval(enemySpawnInterval);
            
            document.getElementById('final_score').textContent = score;
            document.getElementById('game_over').style.display = 'block';
        }
    </script>
</body>
</html>